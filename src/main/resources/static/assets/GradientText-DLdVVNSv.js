import{i as A,r as Y,a as J,b as Q}from"./_plugin-vue_export-helper-D4-TxSuL.js";import{b as Z}from"./Tooltip-DDFAPL4M.js";import{k as T,B as G,O as ee,C as I,a0 as re,S as $,a1 as te,E as B,g as N,H as E,G as K,r as O,m as W,n as p,I as D,a2 as oe,U as ne,a3 as se,a4 as ae,h as x,L as H,l as C}from"./index-D4Z3ZAA6.js";import{V as ie,i as le}from"./Card-8ypUEVBx.js";let V=!1;function de(){if(A&&window.CSS&&!V&&(V=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const ce=A&&"loading"in document.createElement("img"),ue=(e={})=>{var n;const{root:l=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(n=e.threshold)!==null&&n!==void 0?n:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof l=="string"?document.querySelector(l):l)||document.documentElement})}},k=new WeakMap,F=new WeakMap,_=new WeakMap,fe=(e,n,l)=>{if(!e)return()=>{};const s=ue(n),{root:d}=s.options;let a;const c=k.get(d);c?a=c:(a=new Map,k.set(d,a));let f,o;a.has(s.hash)?(o=a.get(s.hash),o[1].has(e)||(f=o[0],o[1].add(e),f.observe(e))):(f=new IntersectionObserver(h=>{h.forEach(g=>{if(g.isIntersecting){const m=F.get(g.target),S=_.get(g.target);m&&m(),S&&(S.value=!0)}})},s.options),f.observe(e),o=[f,new Set([e])],a.set(s.hash,o));let t=!1;const u=()=>{t||(F.delete(e),_.delete(e),t=!0,o[1].has(e)&&(o[0].unobserve(e),o[1].delete(e)),o[1].size<=0&&a.delete(s.hash),a.size||k.delete(d))};return F.set(e,u),_.set(e,l),u},ge=e=>{const{borderRadius:n,avatarColor:l,cardColor:s,fontSize:d,heightTiny:a,heightSmall:c,heightMedium:f,heightLarge:o,heightHuge:t,modalColor:u,popoverColor:h}=e;return{borderRadius:n,fontSize:d,border:`2px solid ${s}`,heightTiny:a,heightSmall:c,heightMedium:f,heightLarge:o,heightHuge:t,color:T(s,l),colorModal:T(u,l),colorPopover:T(h,l)}},he={name:"Avatar",common:G,self:ge},ve=ee("n-avatar-group"),me=I("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[re($("&","--n-merged-color: var(--n-color-modal);")),te($("&","--n-merged-color: var(--n-color-popover);")),$("img",`
 width: 100%;
 height: 100%;
 `),B("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),I("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),B("text","line-height: 1.25")]),be=Object.assign(Object.assign({},E.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),Ee=N({name:"Avatar",props:be,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:l}=K(e),s=O(!1);let d=null;const a=O(null),c=O(null),f=()=>{const{value:r}=a;if(r&&(d===null||d!==r.innerHTML)){d=r.innerHTML;const{value:i}=c;if(i){const{offsetWidth:v,offsetHeight:y}=i,{offsetWidth:b,offsetHeight:P}=r,R=.9,L=Math.min(v/b*R,y/P*R,1);r.style.transform=`translateX(-50%) translateY(-50%) scale(${L})`}}},o=W(ve,null),t=p(()=>{const{size:r}=e;if(r)return r;const{size:i}=o||{};return i||"medium"}),u=E("Avatar","-avatar",me,he,e,n),h=W(Z,null),g=p(()=>{if(o)return!0;const{round:r,circle:i}=e;return r!==void 0||i!==void 0?r||i:h?h.roundRef.value:!1}),m=p(()=>o?!0:e.bordered||!1),S=p(()=>{const r=t.value,i=g.value,v=m.value,{color:y}=e,{self:{borderRadius:b,fontSize:P,color:R,border:L,colorModal:U,colorPopover:q},common:{cubicBezierEaseInOut:X}}=u.value;let j;return typeof r=="number"?j=`${r}px`:j=u.value.self[H("height",r)],{"--n-font-size":P,"--n-border":v?L:"none","--n-border-radius":i?"50%":b,"--n-color":y||R,"--n-color-modal":y||U,"--n-color-popover":y||q,"--n-bezier":X,"--n-merged-size":`var(--n-avatar-size-override, ${j})`}}),z=l?D("avatar",p(()=>{const r=t.value,i=g.value,v=m.value,{color:y}=e;let b="";return r&&(typeof r=="number"?b+=`a${r}`:b+=r[0]),i&&(b+="b"),v&&(b+="c"),y&&(b+=Q(y)),b}),S,e):void 0,w=O(!e.lazy);oe(()=>{if(e.lazy&&e.intersectionObserverOptions){let r;const i=ne(()=>{r==null||r(),r=void 0,e.lazy&&(r=fe(c.value,e.intersectionObserverOptions,w))});se(()=>{i(),r==null||r()})}}),ae(()=>{var r;return e.src||((r=e.imgProps)===null||r===void 0?void 0:r.src)},()=>{s.value=!1});const M=O(!e.lazy);return{textRef:a,selfRef:c,mergedRoundRef:g,mergedClsPrefix:n,fitTextTransform:f,cssVars:l?void 0:S,themeClass:z==null?void 0:z.themeClass,onRender:z==null?void 0:z.onRender,hasLoadError:s,shouldStartLoading:w,loaded:M,mergedOnError:r=>{if(!w.value)return;s.value=!0;const{onError:i,imgProps:{onError:v}={}}=e;i==null||i(r),v==null||v(r)},mergedOnLoad:r=>{const{onLoad:i,imgProps:{onLoad:v}={}}=e;i==null||i(r),v==null||v(r),M.value=!0}}},render(){var e,n;const{$slots:l,src:s,mergedClsPrefix:d,lazy:a,onRender:c,loaded:f,hasLoadError:o,imgProps:t={}}=this;c==null||c();let u;const h=!f&&!o&&(this.renderPlaceholder?this.renderPlaceholder():(n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e));return this.hasLoadError?u=this.renderFallback?this.renderFallback():Y(l.fallback,()=>[x("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):u=J(l.default,g=>{if(g)return x(ie,{onResize:this.fitTextTransform},{default:()=>x("span",{ref:"textRef",class:`${d}-avatar__text`},g)});if(s||t.src){const m=this.src||t.src;return x("img",Object.assign(Object.assign({},t),{loading:ce&&!this.intersectionObserverOptions&&a?"lazy":"eager",src:a&&this.intersectionObserverOptions?this.shouldStartLoading?m:void 0:m,"data-image-src":m,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[t.style||"",{objectFit:this.objectFit},h?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),x("span",{ref:"selfRef",class:[`${d}-avatar`,this.themeClass],style:this.cssVars},u,a&&h)}}),pe=e=>{const{primaryColor:n,successColor:l,warningColor:s,errorColor:d,infoColor:a,fontWeightStrong:c}=e;return{fontWeight:c,rotate:"252deg",colorStartPrimary:C(n,{alpha:.6}),colorEndPrimary:n,colorStartInfo:C(a,{alpha:.6}),colorEndInfo:a,colorStartWarning:C(s,{alpha:.6}),colorEndWarning:s,colorStartError:C(d,{alpha:.6}),colorEndError:d,colorStartSuccess:C(l,{alpha:.6}),colorEndSuccess:l}},ye={name:"GradientText",common:G,self:pe},Se=I("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),ze=Object.assign(Object.assign({},E.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),we=N({name:"GradientText",props:ze,setup(e){de();const{mergedClsPrefixRef:n,inlineThemeDisabled:l}=K(e),s=p(()=>{const{type:t}=e;return t==="danger"?"error":t}),d=p(()=>{let t=e.size||e.fontSize;return t&&(t=le(t)),t||void 0}),a=p(()=>{const t=e.color||e.gradient;if(typeof t=="string")return t;if(t){const u=t.deg||0,h=t.from,g=t.to;return`linear-gradient(${u}deg, ${h} 0%, ${g} 100%)`}}),c=E("GradientText","-gradient-text",Se,ye,e,n),f=p(()=>{const{value:t}=s,{common:{cubicBezierEaseInOut:u},self:{rotate:h,[H("colorStart",t)]:g,[H("colorEnd",t)]:m,fontWeight:S}}=c.value;return{"--n-bezier":u,"--n-rotate":h,"--n-color-start":g,"--n-color-end":m,"--n-font-weight":S}}),o=l?D("gradient-text",p(()=>s.value[0]),f,e):void 0;return{mergedClsPrefix:n,compatibleType:s,styleFontSize:d,styleBgImage:a,cssVars:l?void 0:f,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){const{mergedClsPrefix:e,onRender:n}=this;return n==null||n(),x("span",{class:[`${e}-gradient-text`,`${e}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}});export{Ee as _,we as a,ge as s};
